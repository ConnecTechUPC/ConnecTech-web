import{a as j}from"./chunk-TLPFXHDC.js";import{a as I,b as T}from"./chunk-7JOZ7P5N.js";import{A as O,B as N,C as y,D as $,E as R,F as B,G as L,P as J,Q as K,X as Q,a as v,n as U,o as x,p as E,q as M,r as S,s as _,t as Y,u as F,v as s,w as P,x as w,z as k}from"./chunk-TEY72Y22.js";import{d as A,e as C,f as h,i as V}from"./chunk-4KZNRDSC.js";import"./chunk-Q64FFBLU.js";import{Ab as o,Ha as m,Hb as g,Ya as u,a as G,aa as d,ab as f,ea as p,eb as l,fb as t,gb as e,hb as c,ob as b,oc as z}from"./chunk-IJGEZCRI.js";var D=class r{static \u0275fac=function(i){return new(i||r)};static \u0275cmp=p({type:r,selectors:[["app-auth-layout"]],standalone:!0,features:[g],decls:4,vars:0,consts:[[1,"container","mt-4"]],template:function(i,a){i&1&&(c(0,"app-navbar-home"),t(1,"div",0),c(2,"router-outlet"),e(),c(3,"app-footer"))},dependencies:[j,V,A]})};function ne(r,n){r&1&&(t(0,"mat-error"),o(1,"Este campo es obligatorio"),e())}function ie(r,n){r&1&&(t(0,"mat-error"),o(1,"Introduzca un correo electr\xF3nico v\xE1lido."),e())}function ae(r,n){r&1&&(t(0,"mat-error"),o(1,"Este campo es obligatorio"),e())}function me(r,n){r&1&&(t(0,"mat-error"),o(1,"La contrase\xF1a debe tener al menos 6 caracteres"),e())}var q=class r{loginForm;fb=d(y);snackBar=d(I);authService=d(v);router=d(C);constructor(){this.loginForm=this.fb.group({email:["",[s.required,s.email]],password:["",[s.required,s.minLength(6)]]})}controlHasError(n,i){return this.loginForm.controls[n].hasError(i)}showSnackBar(n){this.snackBar.open(n,"Cerrar",{duration:3e3,verticalPosition:"bottom",horizontalPosition:"center"})}onSubmit(){if(this.loginForm.valid){let n=this.loginForm.value,i=this.authService.login(n);i?(this.showSnackBar(`Bienvenido, ${i.firstName}`),i.role==="ADMIN"?this.router.navigate(["/admin/events"]):i.role==="CUSTOMER"&&this.router.navigate(["/customer/catalog"])):this.showSnackBar("Correo o contrase\xF1a incorrectos.")}}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=p({type:r,selectors:[["app-login"]],standalone:!0,features:[g],decls:26,vars:6,consts:[[1,"login-container"],[1,"login-header"],[1,"login-subtext"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"form-group"],["appearance","outline",1,"form-input"],["matInput","","formControlName","email","placeholder","Ex. elonmusk@mail.com"],["matInput","","formControlName","password","type","password","placeholder","Ex.*****"],["mat-raised-button","","color","primary","type","submit",1,"submit-button",3,"disabled"],[1,"register-link"],["routerLink","/auth/register"]],template:function(i,a){i&1&&(t(0,"div",0)(1,"h2",1),o(2,"Bienvenido de nuevo"),e(),t(3,"p",2),o(4,"Por favor, inicia sesi\xF3n para continuar"),e(),t(5,"form",3),b("ngSubmit",function(){return a.onSubmit()}),t(6,"div",4)(7,"mat-form-field",5)(8,"mat-label"),o(9,"Correo Electr\xF3nico"),e(),c(10,"input",6),u(11,ne,2,0,"mat-error")(12,ie,2,0,"mat-error"),e()(),t(13,"div",4)(14,"mat-form-field",5)(15,"mat-label"),o(16,"Contrase\xF1a"),e(),c(17,"input",7),u(18,ae,2,0,"mat-error")(19,me,2,0,"mat-error"),e()(),t(20,"button",8),o(21," Iniciar Sesi\xF3n "),e()(),t(22,"p",9),o(23," \xBFNo tienes cuenta? "),t(24,"a",10),o(25,"Crea una cuenta aqu\xED"),e()()()),i&2&&(m(5),f("formGroup",a.loginForm),m(6),l(a.controlHasError("email","required")?11:-1),m(),l(a.controlHasError("email","email")?12:-1),m(6),l(a.controlHasError("password","required")?18:-1),m(),l(a.controlHasError("password","minlength")?19:-1),m(),f("disabled",a.loginForm.invalid))},dependencies:[$,k,F,P,w,R,O,N,E,x,L,B,_,M,S,Q,T,h],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;padding:1rem}.login-header[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333;margin-bottom:.5rem}.login-subtext[_ngcontent-%COMP%]{font-size:1rem;color:#555;margin-bottom:2rem;text-align:center}.login-form[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:12px;width:100%;max-width:400px;box-shadow:0 4px 12px #0000001a;transition:transform .3s ease,box-shadow .3s ease}.login-form[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 6px 18px #00000026}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-input[_ngcontent-%COMP%]{width:100%}.submit-button[_ngcontent-%COMP%]{width:100%;padding:.75rem;margin-top:1.5rem;background-color:#f59d0e;color:#fff;font-weight:700;border-radius:8px;border:none;cursor:pointer;transition:background-color .3s ease,transform .3s ease}.submit-button[_ngcontent-%COMP%]:hover{background-color:#d96612;transform:scale(1.05)}.mat-form-field[_ngcontent-%COMP%]{margin-bottom:1rem}.mat-raised-button[_ngcontent-%COMP%]{font-size:1.1rem;padding:.75rem;border-radius:8px;transition:transform .2s ease,background-color .3s ease}.mat-succes[_ngcontent-%COMP%]{background-color:#f59d0e;color:#fff}.mat-raised-button[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#d96612!important}.register-link[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;font-size:.9rem;color:#555}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#007bff;font-weight:700;transition:color .3s ease}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0056b3;text-decoration:underline}"]})};function le(r,n){r&1&&(t(0,"mat-error"),o(1,"Este campo es obligatorio"),e())}function se(r,n){r&1&&(t(0,"mat-error"),o(1,"Este campo es obligatorio"),e())}function ce(r,n){r&1&&(t(0,"mat-error"),o(1,"Este campo es obligatorio"),e())}function de(r,n){r&1&&(t(0,"mat-error"),o(1,"Introduzca un correo electr\xF3nico v\xE1lido."),e())}function ue(r,n){r&1&&(t(0,"mat-error"),o(1,"Este campo es obligatorio"),e())}function pe(r,n){r&1&&(t(0,"mat-error"),o(1,"La contrase\xF1a debe tener al menos 6 caracteres"),e())}function fe(r,n){r&1&&(t(0,"mat-error"),o(1,"Debe seleccionar una opcion"),e())}function ge(r,n){r&1&&(t(0,"mat-error"),o(1,"Debe seleccionar una opcion"),e())}var H=class r{registerForm;fb=d(y);snackBar=d(I);router=d(C);authService=d(v);constructor(){this.registerForm=this.fb.group({firstName:["",[s.required]],lastName:["",[s.required]],email:["",[s.required,s.email]],password:["",[s.required,s.minLength(6)]],status:["",[s.required]],modalidad:["",[s.required]]})}controlHasError(n,i){return this.registerForm.controls[n].hasError(i)&&this.registerForm.controls[n].touched}showSnackBar(n){this.snackBar.open(n,"Cerrar",{duration:3e3,verticalPosition:"bottom",horizontalPosition:"center"})}onSubmit(){if(this.registerForm.valid){let n=G({id:0,role:"CUSTOMER"},this.registerForm.value),i=this.authService.register(n);i?(this.showSnackBar(`Registro exitoso, bienvenido ${i.firstName}`),this.router.navigate(["/auth/login"])):this.showSnackBar("Error al registrar el usuario")}}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=p({type:r,selectors:[["app-register"]],standalone:!0,features:[g],decls:64,vars:10,consts:[[1,"register-container"],[1,"register-header"],[1,"register-subtext"],[1,"register-form",3,"ngSubmit","formGroup"],[1,"form-group"],["appearance","outline",1,"form-input"],["matInput","","formControlName","firstName","placeholder","Introduce tu nombre"],["matInput","","formControlName","lastName","placeholder","Introduce tu apellido"],["matInput","","formControlName","email","placeholder","Introduce tu correo"],["matInput","","formControlName","password","type","password","placeholder","Introduce tu contrase\xF1a"],["matSelect","","formControlName","status"],["value","one"],["value","two"],["value","three"],["value","four"],["value","five"],["matSelect","","formControlName","modalidad"],["mat-raised-button","","color","primary","type","submit",1,"submit-button",3,"disabled"],[1,"login-link"],["routerLink","/auth/login"]],template:function(i,a){i&1&&(t(0,"div",0)(1,"h2",1),o(2,"Crea tu cuenta"),e(),t(3,"p",2),o(4,"Reg\xEDstrate para acceder a la plataforma"),e(),t(5,"form",3),b("ngSubmit",function(){return a.onSubmit()}),t(6,"div",4)(7,"mat-form-field",5)(8,"mat-label"),o(9,"Nombre"),e(),c(10,"input",6),u(11,le,2,0,"mat-error"),e()(),t(12,"div",4)(13,"mat-form-field",5)(14,"mat-label"),o(15,"Apellido"),e(),c(16,"input",7),u(17,se,2,0,"mat-error"),e()(),t(18,"div",4)(19,"mat-form-field",5)(20,"mat-label"),o(21,"Correo Electr\xF3nico"),e(),c(22,"input",8),u(23,ce,2,0,"mat-error")(24,de,2,0,"mat-error"),e()(),t(25,"div",4)(26,"mat-form-field",5)(27,"mat-label"),o(28,"Contrase\xF1a"),e(),c(29,"input",9),u(30,ue,2,0,"mat-error")(31,pe,2,0,"mat-error"),e()(),t(32,"div",4)(33,"mat-form-field",5)(34,"mat-label"),o(35,"Estado"),e(),t(36,"mat-select",10)(37,"mat-option",11),o(38,"Estudiante "),e(),t(39,"mat-option",12),o(40,"Freelancer "),e(),t(41,"mat-option",13),o(42,"Trabajador "),e(),t(43,"mat-option",14),o(44,"Buscando trabajo "),e(),t(45,"mat-option",15),o(46,"No opino "),e()()(),u(47,fe,2,0,"mat-error"),e(),t(48,"div",4)(49,"mat-form-field",5)(50,"mat-label"),o(51,"Modalidad de preferencia"),e(),t(52,"mat-select",16)(53,"mat-option",11),o(54,"Virtual "),e(),t(55,"mat-option",12),o(56,"Presencial "),e()()(),u(57,ge,2,0,"mat-error"),e(),t(58,"button",17),o(59," Registrarse "),e()(),t(60,"p",18),o(61," \xBFYa tienes una cuenta? "),t(62,"a",19),o(63,"Inicia sesi\xF3n aqu\xED"),e()()()),i&2&&(m(5),f("formGroup",a.registerForm),m(6),l(a.controlHasError("firstName","required")?11:-1),m(6),l(a.controlHasError("lastName","required")?17:-1),m(6),l(a.controlHasError("email","required")?23:-1),m(),l(a.controlHasError("email","email")?24:-1),m(6),l(a.controlHasError("password","required")?30:-1),m(),l(a.controlHasError("password","minlength")?31:-1),m(16),l(a.controlHasError("status","required")?47:-1),m(10),l(a.controlHasError("modalidad","required")?57:-1),m(),f("disabled",a.registerForm.invalid))},dependencies:[z,R,k,F,P,w,O,N,Y,_,M,S,L,B,E,x,T,h,K,J,U],styles:[".register-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;padding:1rem}.register-header[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333;margin-bottom:.5rem}.register-subtext[_ngcontent-%COMP%]{font-size:1rem;color:#555;margin-bottom:2rem;text-align:center}.register-form[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:12px;width:100%;max-width:400px;box-shadow:0 4px 12px #0000001a;transition:transform .3s ease,box-shadow .3s ease}.register-form[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 6px 18px #00000026}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-option[_ngcontent-%COMP%]{margin-bottom:1.5rem;border:none;display:flex;justify-content:space-around}.form-input[_ngcontent-%COMP%]{width:100%}.submit-button[_ngcontent-%COMP%]{width:100%;padding:.75rem;margin-top:1.5rem;background-color:#f59d0e;color:#fff;font-weight:700;border-radius:8px;transition:background-color .3s ease,transform .3s ease}.submit-button[_ngcontent-%COMP%]:hover{background-color:#f59c0ee0;transform:scale(1.05)}.mat-form-field[_ngcontent-%COMP%]{margin-bottom:1rem}.login-link[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;font-size:.9rem;color:#555}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#007bff;font-weight:700;transition:color .3s ease}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0056b3;text-decoration:underline}"]})};var Qe=[{path:"",component:D,children:[{path:"login",component:q},{path:"register",component:H}]}];export{Qe as authRoutes};
